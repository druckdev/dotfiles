- shell:
    -
      command: command -v zsh >/dev/null && chsh -s "$(command -v zsh)"
      description: Changing login shell to zsh
      stdin: true
      stdout: true
      stderr: true
    -
      command: meta/git-remote
      description: Updating git remote to use ssh
      stderr: true
    -
      command: meta/submodules --init
      description: Pulling all submodules
      stdout: true
      stderr: true
    -
      command: meta/archive
      description: Archiving all files where links will be placed.
      stdout: true
      stderr: true
    -
      command: .local/bin/fzf-repo/install --bin
      description: Pulling fzf binary
      stdout: true
      stderr: true
    -
      command: cd .config/zsh/plugins/stderred && make
      description: Building stderred
      stdout: true
      stderr: true
    -
      command: cd .config/vim/pack/plugins/opt/coc.nvim && yarn install --frozen-lockfile
      description: Installing coc.nvim
      stdout: true
      stderr: true
    -
      command: ! command -v gpg >/dev/null 2>&1 || mkdir -p ~/.local/share/gnupg
      description: Creating GNUPGHOME if necessary
- create:
    - ~/docs
    - ~/downs
    - ~/media
    - ~/media/music
    - ~/media/pics
    - ~/media/vids
    - ~/misc
- link:
    ~/.xinitrc:
        path: .xinitrc
    ~/.zshenv:
        path: .zshenv
    ~/.config/:
        create: true
        glob: true
        path: .config/*
    ~/.config/:
        glob: true
        path: .config/.*
    ~/.local/bin/:
        create: true
        glob: true
        exclude: [ .local/bin/fzf-repo ]
        path: .local/bin/*
    ~/.local/share/direnv:
        path: .local/share/direnv
    ~/.local/share/man/man1/:
        create: true
        glob: true
        path: .local/share/man/man1/*
    ~/.local/share/nvim/site/pack:
        create: true
        path: .config/vim/pack
    ~/.local/share/gnupg/gpg-agent.conf:
        create: true
        path: .local/share/gnupg/gpg-agent.conf
    ~/.ssh/:
        create: true
        glob: true
        path: .ssh/*
    .git/hooks/:
        create: true
        glob: true
        path: meta/git/hooks/*
    .envrc:
        path: meta/envrc
